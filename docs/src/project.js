window.__require=function t(e,n,o){function c(s,r){if(!n[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!r&&u)return u(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+s+"'")}}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){return c(e[s][1][t]||t)},h,h.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<o.length;s++)c(o[s]);return c}({DeviceOrientationControl:[function(t,e,n){"use strict";cc._RF.push(e,"928b4GnPHNL/IUvHx699WYz","DeviceOrientationControl"),cc.Class({extends:cc.Component,onLoad:function(){var t=this;this.node.x=this.node.z=0,this.node.y=300,this.screenOrientation=0,cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,function(e){return t.onDeviceMotionEvent(e)},this)},onDeviceMotionEvent:function(t){var e=t.acc.x,n=t.acc.y,o=t.acc.z;this.node.eulerAngles=cc.v3(e,n,o)},onScreenOrientationChangeEvent:function(t){this.screenOrientation=t.orientation},onDeviceOrientationChangeEvent:function(t){var e=this.node.quat;e.fromEuler(cc.v3(t.beta-90,t.alpha,-t.gamma)),e.mul(cc.quat(-Math.sqrt(.5),0,0,Math.sqrt(.5))),e.mul(cc.quat(0,0,1,-this.screenOrientation||0)),this.node.quat=e,console.log(this.node.eulerAngles,this.node.quat)},start:function(){}}),cc._RF.pop()},{}],raycast:[function(t,e,n){"use strict";cc._RF.push(e,"33357aK1a5LhqRVgk1JUqcD","raycast");cc.Color.WHITE;cc.Class({extends:cc.Component,properties:{mesh:cc.Node,camera:cc.Camera},start:function(){var t=cc.find("Canvas");t.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.touchPos=null,this.results=[]},onTouchStart:function(t){this.touchPos=t.touch.getLocation()},onTouchMove:function(t){this.touchPos=t.touch.getLocation()},onTouchEnd:function(t){this.touchPos=null},raycast:function(t){var e=this.camera.getRay(t);return cc.geomUtils.intersect.raycast(this.node,e)},update:function(t){for(var e=0;e<this.results.length;e++)this.results[e].node.opacity=255;if(this.results.length=0,this.touchPos){var n=this.camera.getRay(this.touchPos),o=cc.geomUtils.intersect.raycast(this.node,n);if(o.length>0){var c=o[0].distance,i=cc.vmath.vec3.normalize(cc.v3(),n.d),s=cc.vmath.vec3.scaleAndAdd(cc.v3(),n.o,i,c);this.mesh.position=s,console.log(s)}this.results=o}}}),cc._RF.pop()},{}]},{},["DeviceOrientationControl","raycast"]);